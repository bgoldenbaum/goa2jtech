<script>
// Data structure containing organizations and their respective zip codes
const legalAidRegions = [
  {
    organization: 'Legal Services of Northwest Minnesota (LSNM)',
    logo: 'https://lsnmlaw.org/wp-content/uploads/2019/05/lsnm-logo-07-e1559838728488.png', // Replace with actual logo URL
    website: 'https://lsnmlaw.org/',
    contactInfo: 'Legal Services of Northwest Minnesota (LSNM)',
    zipCodes: ['56207', '56219', '56221', '56235', '56236', '56244', '56248', '56267', '56274', '56296', '56308', '56309', '56311', '56315', '56319', '56323', '56324', '56326', '56327', '56332', '56334', '56339', '56341', '56343', '56349', '56354', '56355', '56360', '56361', '56381', '56385', '56433', '56436', '56458', '56461', '56464', '56467', '56470', '56477', '56478', '56481', '56482', '56501', '56502', '56510', '56511', '56514', '56515', '56516', '56517', '56518', '56519', '56520', '56521', '56522', '56523', '56524', '56525', '56527', '56528', '56529', '56531', '56533', '56534', '56535', '56536', '56537', '56538', '56540', '56541', '56542', '56543', '56544', '56545', '56546', '56547', '56548', '56549', '56550', '56551', '56552', '56553', '56554', '56556', '56557', '56560', '56561', '56562', '56563', '56565', '56566', '56567', '56568', '56569', '56570', '56571', '56572', '56573', '56574', '56575', '56576', '56577', '56578', '56579', '56580', '56581', '56583', '56584', '56585', '56586', '56587', '56588', '56589', '56590', '56591', '56592', '56593', '56594', '56601', '56619', '56621', '56623', '56630', '56634', '56644', '56646', '56647', '56650', '56651', '56652', '56663', '56666', '56667', '56670', '56671', '56673', '56676', '56678', '56682', '56683', '56684', '56685', '56686', '56687', '56701', '56710', '56711', '56713', '56714', '56715', '56716', '56720', '56721', '56722', '56723', '56724', '56725', '56726', '56727', '56728', '56729', '56731', '56732', '56733', '56734', '56735', '56736', '56737', '56738', '56740', '56741', '56742', '56744', '56748', '56750', '56751', '56754', '56755', '56756', '56757', '56758', '56759', '56760', '56761', '56762', '56763'] // List of zip codes
  },
  {
    organization: 'Justice North (JN)',
    logo: 'https://cdn.prod.website-files.com/651dd90a31a79c553c7a5928/6526d28a2f159342ea5b4ffd_justice_north-logo.svg',
    website: 'https://www.justicenorth.org/',
    contactInfo: 'Justice North (JN)',
    zipCodes: ['55007', '55030', '55036', '55037', '55051', '55063', '55067', '55072', '55601', '55603', '55604', '55605', '55606', '55607', '55609', '55612', '55613', '55614', '55615', '55616', '55704', '55707', '55709', '55712', '55716', '55718', '55720', '55721', '55722', '55726', '55730', '55733', '55735', '55742', '55744', '55745', '55748', '55749', '55752', '55753', '55756', '55757', '55760', '55764', '55767', '55769', '55772', '55775', '55780', '55783', '55784', '55785', '55786', '55787', '55793', '55795', '55797', '55798', '56350', '56358', '56401', '56425', '56430', '56431', '56435', '56441', '56442', '56444', '56447', '56448', '56449', '56450', '56452', '56455', '56456', '56459', '56465', '56466', '56468', '56469', '56472', '56473', '56474', '56484', '56626', '56627', '56628', '56629', '56631', '56636', '56637', '56639', '56641', '56649', '56653', '56654', '56655', '56657', '56658', '56659', '56660', '56661', '56662', '56668', '56669', '56672', '56679', '56680', '56681', '56688', '55602', '55701', '55702', '55703', '55705', '55706', '55708', '55710', '55711', '55713', '55717', '55719', '55723', '55724', '55725', '55731', '55732', '55734', '55736', '55738', '55741', '55746', '55747', '55750', '55751', '55758', '55763', '55765', '55766', '55768', '55771', '55777', '55779', '55781', '55782', '55790', '55791', '55792', '55796', '55801', '55802', '55803', '55804', '55805', '55806', '55807', '55808', '55810', '55811', '55812', '55814', '55815', '55816', '56633']
  },
  {
    organization: 'Southern Minnesota Regional Legal Services (SMRLS)',
    logo: 'https://images.squarespace-cdn.com/content/v1/647631849e6583110f41b238/300a49c3-e513-4ad2-b492-b497bb8cd59f/SMRLS_logo_4c.jpeg?format=1500w',
    website: 'https://www.smrls.org',
    contactInfo: 'Southern Minnesota Regional Legal Services (SMRLS)',
    zipCodes: ['55001', '55003', '55009', '55010', '55016', '55018', '55019', '55020', '55021', '55024', '55025', '55026', '55027', '55031', '55033', '55038', '55041', '55042', '55043', '55044', '55046', '55047', '55049', '55052', '55053', '55054', '55055', '55057', '55060', '55065', '55066', '55068', '55071', '55073', '55075', '55076', '55077', '55082', '55083', '55085', '55087', '55088', '55089', '55090', '55101', '55102', '55103', '55104', '55105', '55106', '55107', '55108', '55109', '55110', '55112', '55113', '55114', '55115', '55116', '55117', '55118', '55119', '55120', '55121', '55122', '55123', '55124', '55125', '55126', '55127', '55128', '55129', '55130', '55133', '55144', '55145', '55146', '55150', '55155', '55161', '55164', '55165', '55166', '55168', '55169', '55170', '55171', '55172', '55175', '55177', '55187', '55188', '55191', '55306', '55307', '55312', '55315', '55317', '55318', '55322', '55334', '55335', '55336', '55337', '55338', '55339', '55350', '55352', '55354', '55360', '55366', '55367', '55368', '55370', '55372', '55378', '55379', '55381', '55383', '55385', '55386', '55387', '55388', '55394', '55395', '55396', '55397', '55399', '55550', '55551', '55552', '55553', '55554', '55555', '55556', '55557', '55558', '55559', '55560', '55562', '55564', '55566', '55567', '55568', '55573', '55583', '55594', '55901', '55902', '55903', '55904', '55905', '55906', '55909', '55910', '55912', '55917', '55918', '55919', '55920', '55921', '55922', '55923', '55924', '55925', '55926', '55927', '55929', '55931', '55932', '55933', '55934', '55935', '55936', '55939', '55940', '55941', '55942', '55943', '55944', '55945', '55946', '55947', '55949', '55950', '55951', '55952', '55953', '55954', '55955', '55956', '55957', '55959', '55960', '55961', '55962', '55963', '55964', '55965', '55967', '55968', '55969', '55970', '55971', '55972', '55973', '55974', '55975', '55976', '55977', '55979', '55981', '55982', '55983', '55985', '55987', '55988', '55990', '55991', '55992', '56001', '56002', '56003', '56006', '56007', '56009', '56010', '56011', '56013', '56014', '56016', '56017', '56019', '56020', '56021', '56022', '56023', '56024', '56025', '56026', '56027', '56028', '56029', '56030', '56031', '56032', '56033', '56034', '56035', '56036', '56037', '56039', '56041', '56042', '56043', '56044', '56045', '56046', '56047', '56048', '56050', '56051', '56052', '56054', '56055', '56056', '56057', '56058', '56060', '56062', '56063', '56065', '56068', '56069', '56071', '56072', '56073', '56074', '56075', '56078', '56080', '56081', '56082', '56083', '56084', '56085', '56087', '56088', '56089', '56090', '56091', '56093', '56096', '56097', '56098', '56101', '56110', '56111', '56114', '56116', '56117', '56118', '56119', '56120', '56121', '56122', '56123', '56125', '56127', '56128', '56129', '56131', '56134', '56137', '56138', '56139', '56140', '56141', '56143', '56144', '56145', '56146', '56147', '56150', '56151', '56152', '56153', '56155', '56156', '56158', '56159', '56160', '56161', '56162', '56164', '56165', '56166', '56167', '56168', '56170', '56171', '56172', '56173', '56174', '56176', '56177', '56180', '56181', '56183', '56185', '56186', '56187', '56214', '56224', '56255', '56263', '56266', '56283', '56287', '56292', '56293', '56294']
  },
  {
    organization: 'Mid-Minnesota Legal Aid (MMLA)',
    logo: 'https://mylegalaid.org/wp-content/themes/mmla/assets/img/logo_header.svg',
    website: 'https://mylegalaid.org/',
    contactInfo: 'Mid-Minnesota Legal Aid (MMLA)',
    zipCodes: ['55002', '55005', '55006', '55008', '55011', '55012', '55013', '55014', '55017', '55029', '55032', '55040', '55045', '55056', '55069', '55070', '55074', '55078', '55079', '55080', '55084', '55092', '55111', '55301', '55302', '55303', '55304', '55305', '55308', '55309', '55310', '55311', '55313', '55314', '55316', '55319', '55320', '55321', '55323', '55324', '55325', '55327', '55328', '55329', '55330', '55331', '55332', '55333', '55340', '55341', '55342', '55343', '55344', '55345', '55346', '55347', '55348', '55349', '55353', '55355', '55356', '55357', '55358', '55359', '55361', '55362', '55363', '55364', '55365', '55369', '55371', '55373', '55374', '55375', '55376', '55377', '55380', '55382', '55384', '55389', '55390', '55391', '55392', '55393', '55398', '55401', '55402', '55403', '55404', '55405', '55406', '55407', '55408', '55409', '55410', '55411', '55412', '55413', '55414', '55415', '55416', '55417', '55418', '55419', '55420', '55421', '55422', '55423', '55424', '55425', '55426', '55427', '55428', '55429', '55430', '55431', '55432', '55433', '55434', '55435', '55436', '55437', '55438', '55439', '55440', '55441', '55442', '55443', '55444', '55445', '55446', '55447', '55448', '55449', '55450', '55454', '55455', '55458', '55459', '55460', '55467', '55468', '55470', '55472', '55473', '55474', '55478', '55479', '55480', '55483', '55484', '55485', '55486', '55487', '55488', '55561', '55563', '55565', '55569', '55570', '55571', '55572', '55574', '55575', '55576', '55577', '55578', '55579', '55580', '55581', '55582', '55584', '55585', '55586', '55587', '55588', '55589', '55590', '55591', '55592', '55593', '55595', '55596', '55597', '55598', '55599', '56113', '56115', '56132', '56136', '56142', '56149', '56157', '56169', '56175', '56178', '56201', '56208', '56209', '56210', '56211', '56212', '56215', '56216', '56218', '56220', '56222', '56223', '56225', '56226', '56227', '56228', '56229', '56230', '56231', '56232', '56237', '56239', '56240', '56241', '56243', '56245', '56249', '56251', '56252', '56253', '56256', '56257', '56258', '56260', '56262', '56264', '56265', '56270', '56271', '56273', '56276', '56277', '56278', '56279', '56280', '56281', '56282', '56284', '56285', '56288', '56289', '56291', '56295', '56297', '56301', '56302', '56303', '56304', '56307', '56310', '56312', '56313', '56314', '56316', '56317', '56318', '56320', '56321', '56325', '56328', '56329', '56330', '56331', '56333', '56335', '56336', '56338', '56340', '56342', '56344', '56345', '56347', '56352', '56353', '56356', '56357', '56359', '56362', '56363', '56364', '56367', '56368', '56369', '56371', '56372', '56373', '56374', '56375', '56376', '56377', '56378', '56379', '56382', '56384', '56386', '56387', '56388', '56389', '56393', '56395', '56396', '56397', '56398', '56399', '56434', '56437', '56438', '56440', '56443', '56446', '56453', '56475', '56479']
  }
];

// Event listener for button click
  document.getElementById('searchZipButton').addEventListener('click', function() {
    const userInput = document.getElementById('zipCodeInput').value.trim(); // Get user input and trim white spaces
    
    let foundRegion = null; // Variable to hold matching region
    
    // Loop through each organization to check if the zip code exists
    legalAidRegions.forEach(function(region) {
      if (region.zipCodes.includes(userInput)) {
        foundRegion = region; // If the zip code matches, set the region
      }
    });

    if (foundRegion) {
      // If a matching region is found, update the page elements with the organization's info
      document.getElementById('regionLogo').src = foundRegion.logo;
      document.getElementById('regionContactInfo').innerText = foundRegion.contactInfo;
      document.getElementById('regionWebsite').href = foundRegion.website;
      document.getElementById('regionInfo').style.display = 'block'; // Show the info section
      document.getElementById('errorMessage').style.display = 'none'; // Hide the error message
      document.getElementById('regionLogo').style.display = 'block'; // Show logo
      document.getElementById('regionContactInfo').style.display = 'block'; // Show contact info
      document.getElementById('regionWebsite').style.display = 'block'; // Show website
    } else {
      // Show the error message if no match is found
      document.getElementById('errorMessage').innerText = 'No legal aid found for that zip code. Please try again.';
      document.getElementById('regionInfo').style.display = 'block'; // Show the info section for the message
      document.getElementById('errorMessage').style.display = 'block'; // Display the error message
      document.getElementById('regionLogo').style.display = 'none'; // Hide the logo when no result is found
      document.getElementById('regionContactInfo').style.display = 'none'; // Hide the contact info when no result is found
      document.getElementById('regionWebsite').style.display = 'none'; // Hide the website link when no result is found
    }
  });
</script>
